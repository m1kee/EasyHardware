<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <button class="navbar-toggler"
          type="button"
          (click)="menuBehavior.isCollapsed = !menuBehavior.isCollapsed"
          aria-controls="collapse-menu"
          [attr.aria-expanded]="!menuBehavior.isCollapsed">
    <span class="navbar-toggler-icon"></span>
  </button>

  <a class="navbar-brand" [routerLink]="['']"><b><span class="text-primary">Easy</span>&nbsp;<span class="text-white">Hardware</span></b></a>

  <div id="collapse-menu" class="collapse navbar-collapse" [collapse]="menuBehavior.isCollapsed">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown" dropdown [autoClose]="true" *ngFor="let category of categories">
        <a class="nav-link text-white" id="navbarDropdown" role="button" [routerLink]="['/product-list', category.Code]" routerLinkActive="active">
           {{ category.Name }}
          <span class="badge badge-pill badge-primary clickable" (click)="$event.stopPropagation(); $event.preventDefault();">
            <fa-icon [icon]="icons.faAngleDown" *ngIf="category.SubCategories && category.SubCategories.length > 0" dropdownToggle data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></fa-icon>
          </span>
        </a>

        <!-- SubCategory DropDown -->
        <div *ngIf="category.SubCategories && category.SubCategories.length > 0">
          <div class="dropdown-menu dropdown-menu-right"
               aria-labelledby="navbarDropdown"
               *dropdownMenu>
            <a [routerLink]="['/product-list', subCategory.Code]" routerLinkActive="active"
               class="dropdown-item clickable"
               *ngFor="let subCategory of category.SubCategories">
              {{ subCategory.Name }}
            </a>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <form id="user-menu" class="form-inline">
    <button class="btn btn-success my-2 my-sm-0" type="button">
      <fa-icon [icon]="icons.faShoppingCart"></fa-icon>&nbsp;
      <span class="badge badge-light"
            style="margin-left: 5px;"
            *ngIf="shoppingCart.items && shoppingCart.items.length > 0">
        {{ shoppingCart.items.length }}
      </span>
    </button>

    <div class="btn-group" dropdown style="margin-left: 5px;">
      <a class="nav-link dropdown-toggle clickable text-white"
         id="navbarDropdown"
         dropdownToggle
         role="button"
         aria-controls="dropdown-animated">
        Michael Núñez
      </a>
      <div id="dropdown-animated" *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="button-animated">
        <a class="dropdown-item clickable" [routerLink]="['/maintenance/my-account']" routerLinkActive="active">
          <fa-icon [icon]="icons.faUserCircle" [fixedWidth]="true"></fa-icon>&nbsp;
          Mi cuenta
        </a>
        <a class="dropdown-item clickable" (click)="logout()">
          <fa-icon [icon]="icons.faSignOutAlt" [fixedWidth]="true"></fa-icon>&nbsp;
          Salir
        </a>
        <div class="dropdown-divider"></div>
        <h6 class="dropdown-header">Mantenedores</h6>
        <a class="dropdown-item clickable" [routerLink]="['/maintenance/category']" routerLinkActive="active">
          <fa-icon [icon]="icons.faList" [fixedWidth]="true"></fa-icon>&nbsp;
          Categorías
        </a>
        <a class="dropdown-item clickable" [routerLink]="['/maintenance/product']" routerLinkActive="active">
          <fa-icon [icon]="icons.faBoxOpen" [fixedWidth]="true"></fa-icon>&nbsp;
          Productos
        </a>
        <a class="dropdown-item clickable" [routerLink]="['/maintenance/store']" routerLinkActive="active">
          <fa-icon [icon]="icons.faStore" [fixedWidth]="true"></fa-icon>&nbsp;
          Tiendas
        </a>
        <a class="dropdown-item clickable" [routerLink]="['/maintenance/stock']" routerLinkActive="active">
          <fa-icon [icon]="icons.faBoxes" [fixedWidth]="true"></fa-icon>&nbsp;
          Stock
        </a>
      </div>
    </div>
  </form>
</nav>
